{% extends "base.html" %}
{% block title %} 实时聊天室 {% endblock %}
{% block page_content %}
<div class="page-header" style="margin-top:0">
    <div class="panel panel-primary" style="margin:0 auto;width:600px">
        <div class="panel-heading" style="font-size:18px;line-height:20px;font-weight:bold">
            欢迎您:{{ name }}
        </div>
        <div class="panel-body" style="padding:10px;">
            <div id="logs" style="height:400px;border:1px solid;background-color:#ddd"></div>
            <div class="input-group" style="margin-top:20px;">
              <input type="text" id="words" class="form-control">
              <span class="input-group-btn">
                <button id="send" class="btn btn-default" type="button">Go!</button>
              </span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" charset="utf-8">
    var socket = io.connect('http://' + document.domain + ':' + location.port);
    socket.on('connect', function() {
        socket.emit('my event', {data: 'I\'m connected!'});
    });
    socket.on('my response',function(msg){
        alert(msg);
        $("#logs").append('<p>'+msg+'</p>');
    });
    $(")
</script>
{% endblock %}